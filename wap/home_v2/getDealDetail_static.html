<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <title>商品详情</title>
    <link rel="stylesheet" href="http://common.huibaoming.cn/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="http://common.huibaoming.cn/jquery-weui/css/weui.css">
    <link rel="stylesheet" href="http://common.huibaoming.cn/jquery-weui/css/jquery-weui.css">
    <link rel="stylesheet" href="../src/css/getDealDetail.css">
    <link rel="stylesheet" href="../src/css/wap.css">
    <link rel="stylesheet" href="../src/css/wap_public.css">

</head>
<body ng-controller="ctrl">
    <!--header-->
    <!--头部-->
    <header class="back-header weui-flex">
        <span class="back-header-icon icon-chevron-left flex_item1" onclick="javascript:window.history.go(-1);">返回</span>
        <h1 class="back-header-h1 flex_item4">商品详情</h1>
        <a class="flex_item1 header-right"></a>
    </header>
    <!--内容区-->
    <div  class="fix_containner">
        <div class="swiper-container"style="width: 100%;height:200px;"><!--swiper容器[可以随意更改该容器的样式-->
            <div class="swiper-wrapper">
                <div class="swiper-slide"><img src="http://common.huibaoming.cn/wap/images/banner1.jpg" style="width:100%;"></div>
                <div class="swiper-slide"><img src="http://common.huibaoming.cn/wap/images/banner2.jpg" style="width:100%;"></div>
                <div class="swiper-slide"><img src="http://common.huibaoming.cn/wap/images/banner3.jpg" style="width:100%;"></div>
            </div>
        </div>
        <div class="bg-white" style="padding:10px;">
            <div class="weui-row">
                <div class="weui-col-100 text-font2">
                    <p>Control4全宅智能家居系统套装产品家庭影院控制主机电动窗帘门禁</p>
                </div>
                <!--<div class="weui-col-20 text-c" style="border-left:1px solid #EEE">-->
                <!--<img src="http://common.huibaoming.cn/wap/src/images/icon/login1.png" alt="" style="width:24px">-->
                <!--<p class="text-font1">分享</p>-->
                <!--</div>-->
            </div>
            <span class="sc-text-active">$399</span><span class="fr sc-text-gray text-font2">库存：255</span>
        </div>
        <!--说明-->
        <div class="bg-white explain">
            <li class="icon-ok-circle"><span>七天无忧退换</span></li>
            <li class="icon-ok-circle"><span>先行赔付</span></li>
            <li class="icon-ok-circle"><span>超时赔偿</span></li>
            <li class="icon-ok-circle"><span>顺丰包邮</span></li>
        </div>
        <div class="bg-white explain" onclick="submit()">
            <p>已选择：</p><p>智能家居</p>
        </div>
        <div class="bg-white pad-all2 text-c">
            <div class="weui-flex">
                <div class="weui-flex__item">
                    <div class="split_line fr"></div>
                </div>
                <div style="padding:0 0.5rem;">图文详情</div>
                <div class="weui-flex__item">
                    <div class="split_line fl"></div>
                </div>
            </div>
        </div>
        <!--图文详情-->
        <div class="goods-detail" id="app">
            <img src="http://common.huibaoming.cn/wap/images/banner1.jpg" alt="">
            <img src="http://common.huibaoming.cn/wap/images/banner3.jpg" alt="">
            <img src="http://common.huibaoming.cn/wap/images/banner2.jpg" alt="">
        </div>
    </div>

    <!--弹出框-->
    <div id="about" class="weui-popup__container popup-bottom">
        <div class="weui-popup__overlay weui-popup-overlay"></div>
        <div class="weui-popup__modal" style="overflow:inherit">
            <!--关闭按钮-->
            <p class="toclose close-popup">关闭</p>
            <!--头部区域-->
            <div class="weui-flex pad-b5">
                <div class="flex_item1 text-c" style="position:relative"><img src="http://common.huibaoming.cn/wap/images/banner3.jpg" alt="" class="popup-img"></div>
                <div class="flex_item2 pad-l3 pad-t3 text-font3">
                    <b class="sc-text-warning">￥520.00</b>
                    <p class="sc-text-gray ">库存：5445</p>
                    <p c>请选择颜色分类</p>
                </div>
            </div>
            <!--选择区域,可垂直滚动-->
            <div class="popup-container text-font2"  style="height:10rem;overflow-y:scroll;">
                <div class="pad-all3 " ui-sku split-str="#" sku-data="skuInfo" on-ok="callback($event)">
                    <div class="row f-cb">
                        <div class="l-col">尺码</div>
                        <div class="r-col">
                            <ul class="m-sku f-cb">
                                <li><span ng-class="{'js-seleted': keyMap['S'].selected, 'js-disabled': keyMap['S'].disabled}" ng-click="onSelect('S')">S</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['M'].selected, 'js-disabled': keyMap['M'].disabled}" ng-click="onSelect('M')">M</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['L'].selected, 'js-disabled': keyMap['L'].disabled}" ng-click="onSelect('L')">L</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['XL'].selected, 'js-disabled': keyMap['XL'].disabled}" ng-click="onSelect('XL')">XL</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="row f-cb">
                        <div class="l-col">颜色</div>
                        <div class="r-col">
                            <ul class="m-sku f-cb">
                                <li><span ng-class="{'js-seleted': keyMap['红色'].selected, 'js-disabled': keyMap['红色'].disabled}" ng-click="onSelect('红色')">红色</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['橙色'].selected, 'js-disabled': keyMap['橙色'].disabled}" ng-click="onSelect('橙色')">橙色</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['黄色'].selected, 'js-disabled': keyMap['黄色'].disabled}" ng-click="onSelect('黄色')">黄色</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['绿色'].selected, 'js-disabled': keyMap['绿色'].disabled}" ng-click="onSelect('绿色')">绿色</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['蓝色'].selected, 'js-disabled': keyMap['蓝色'].disabled}" ng-click="onSelect('蓝色')">蓝色</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['紫色'].selected, 'js-disabled': keyMap['紫色'].disabled}" ng-click="onSelect('紫色')">紫色</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="row f-cb">
                        <div class="l-col">性别</div>
                        <div class="r-col">
                            <ul class="m-sku f-cb">
                                <li><span ng-class="{'js-seleted': keyMap['男'].selected, 'js-disabled': keyMap['男'].disabled}" ng-click="onSelect('男')">男</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['女'].selected, 'js-disabled': keyMap['女'].disabled}" ng-click="onSelect('女')">女</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="row f-cb">
                        <div class="l-col">类型</div>
                        <div class="r-col">
                            <ul class="m-sku f-cb">
                                <li><span ng-class="{'js-seleted': keyMap['大'].selected, 'js-disabled': keyMap['大'].disabled}" ng-click="onSelect('大')">大</span></li>
                                <li><span ng-class="{'js-seleted': keyMap['小'].selected, 'js-disabled': keyMap['小'].disabled}" ng-click="onSelect('小')">小</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="shop_number">
                <div class="weui-flex">
                    <div class="weui-flex__item">购买数量</div>
                    <div class="weui-flex__item text-r">
                        <span class="calculate add" onclick="pre(this)">-</span>
                        <span class="calculate">1</span>
                        <span class="calculate minus" onclick="add(this)">+</span>
                    </div>
                </div>
            </div>
            <!--底部按钮区域-->
            <div class="footer-fixed">
                <div class="btn-sure buy">确认</div>
            </div>
        </div>
    </div>

    <!--购买导航导航栏-->
    <div class="footer-fixed ">
        <div class="weui-flex text-c">
            <div class="weui-flex__item">
                <div class="footer-operate"> <img src="http://common.huibaoming.cn/wap/images/icon/home.png" alt="" style="width:20px"><p>首页</p></div>
                <div class="footer-operate"><img src="http://common.huibaoming.cn/wap/images/icon/search.png" alt="" style="width:20px">
                    <p>收藏</p>
                    <span class="shopcar_num">99+</span>
                </div>
            </div>
            <div class="weui-flex__item footer-fixed-height add"><p class="btn-operate" onclick="shop()">加入购物车</p></div>
            <div class="weui-flex__item footer-fixed-height buy" onclick="buy()"><p>立即购买</p></div>
        </div>
    </div>
    <div class="back_top" ng-click="back_top()">
        <img src="http://common.huibaoming.cn/wap/images/haivit/backtop.png" alt="" style="width:140%;margin-top:-0.5rem;margin-left:-0.5rem;">
    </div>

</body>
<script src="http://common.huibaoming.cn/jquery/jquery.js"></script>
<script src="http://common.huibaoming.cn/angular/angular.js"></script>
<script src="http://common.huibaoming.cn/angular/angular-sku.js"></script>
<script src="http://common.huibaoming.cn/jquery-weui/js/jquery-weui.js"></script>
<script src="http://common.huibaoming.cn/swiper/js/swiper.js"></script>
<script type="text/javascript">
    var num=1;
    var mySwiper = new Swiper(".swiper-container",{
        direction:"horizontal",/*横向滑动*/
        loop:true,/*形成环路（即：可以从最后一张图跳转到第一张图*/
        pagination:".swiper-pagination",/*分页器*/
        prevButton:".swiper-button-prev",/*前进按钮*/
        nextButton:".swiper-button-next",/*后退按钮*/
        autoplay:3000/*每隔3秒自动播放*/
    })
    var myapp = angular.module('app', ['ui.angularSku']);

    myapp.controller('ctrl', function ($scope) {
        'use strict';
        $scope.type = 'parent';
        $scope.json=[
            {size:"尺码",sizelist:[
                {name:"S"},
                {name:"M"},
                {name:"L"},
                {name:"XL"}
            ]},
            {size:"颜色",sizelist:[
                {name:"红色"},
                {name:"橙色"},
                {name:"黄色"},
                {name:"绿色"},
                {name:"蓝色"},
                {name:"紫色"}
            ]},
            {size:"性别",sizelist:[
                {name:"男"},
                {name:"女"}
            ]},
            {size:"类型",sizelist:[
                {name:"大"},
                {name:"小"}
            ]}
        ]
        $(window).scroll(function(){
            // 滚动条距离顶部的距离 大于 200px时
            if($(window).scrollTop() >= 300){
               $('.back_top').css('opacity','1');
                // }
            } else{
                $('.back_top').css('opacity','0');
            }
        });
        $scope.back_top=function () {
            $('body').animate({"scrollTop":0},500);
        }
        $scope.callback = function(count){
            $scope.count = count;

            console.log($scope.count);
        }
        $scope.skuInfo = {

            'S#红色#男#大': {
                count: 0
            },
            'S#红色#女#大': {
                count: 0
            },
            'S#橙色#男#大': {
                count: 1
            },
            'S#橙色#女#大': {
                count: 1
            },
            'S#黄色#男#大': {
                count: 1
            },
            'S#黄色#女#大': {
                count: 1
            },
            'S#绿色#男#大': {
                count: 1
            },
            'S#绿色#女#大': {
                count: 1
            },
            'S#蓝色#男#大': {
                count: 0
            },
            'S#蓝色#女#大': {
                count: 11
            },
            'S#紫色#男#大': {
                count: 0
            },
            'S#紫色#女#大': {
                count: 41
            },

            'M#红色#男#大': {
                count: 19
            },
            'M#红色#女#大': {
                count: 2
            },
            'M#橙色#男#大': {
                count: 0
            },
            'M#橙色#女#大': {
                count: 0
            },
            'M#黄色#男#大': {
                count: 12
            },
            'M#黄色#女#大': {
                count: 1
            },
            'M#绿色#男#小': {
                count: 5
            },
            'M#绿色#女#小': {
                count: 1
            },
            'M#蓝色#男#大': {
                count: 0
            },
            'M#蓝色#女#大': {
                count: 87
            },
            'M#紫色#男#小': {
                count: 1
            },
            'M#紫色#女#大': {
                count: 21
            },

            'L#红色#男#大': {
                count: 98
            },
            'L#红色#女#大': {
                count: 100
            },
            'L#橙色#男#大': {
                count: 234
            },
            'L#橙色#女#大': {
                count: 7
            },
            'L#黄色#男#小': {
                count: 5
            },
            'L#黄色#女#大': {
                count: 9
            },
            'L#绿色#男#大': {
                count: 98
            },
            'L#绿色#女#大': {
                count: 0
            },
            'L#蓝色#男#大': {
                count: 13
            },
            'L#蓝色#女#大': {
                count: 21
            },
            'L#紫色#男#大': {
                count: 0
            },
            'L#紫色#女#大': {
                count: 1
            },


            'XL#红色#男#大': {
                count: 1
            },
            'XL#红色#女#大': {
                count: 1
            },
            'XL#橙色#男#大': {
                count: 1
            },
            'XL#橙色#女#大': {
                count: 1
            },
            'XL#黄色#男#大': {
                count: 1
            },
            'XL#黄色#女#大': {
                count: 1
            },
            'XL#绿色#男#大': {
                count: 1
            },
            'XL#绿色#女#大': {
                count: 1
            },
            'XL#蓝色#男#大': {
                count: 1
            },
            'XL#蓝色#女#大': {
                count: 1
            },
            'XL#紫色#男#大': {
                count: 1
            },
            'XL#紫色#女#大': {
                count: 1
            }
        }

    });

    function  submit(){
        $("#about").popup();
    }
//    submit();
    function  shop(){
        $("#about").popup();
    }
    function  buy(){
        $("#about").popup();
    }
    function back(){
        alert('ss');
        $.closePopup()
    }
    function add(obj){
        num++;
       $(obj).prev().html(num);
    }
    function pre(obj){
      if(num>1){
          num--;
          $(obj).next().html(num);
      }
    }
</script>
</html>